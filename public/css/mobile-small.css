/* =====================================================
   V2V - ESTILOS MOBILE PEQUEÑO (HUD COMPACTO)
   Archivo: mobile-small.css
   ===================================================== */

@media (max-width: 480px) {

    /* ================= SECCIONES CHAT - ALTURA MÍNIMA ================= */
    .chat {
        min-height: 220px;              /* base para todas las secciones */
        margin-bottom: 20px;
        padding: 12px;
        background: rgba(20,20,30,0.4);
        border-radius: 8px;
        border: 1px solid rgba(255,255,255,0.08);
        display: flex;
        flex-direction: column;
    }

    /* Contactos cercanos (lista) */
    .chat-contactos {
        min-height: 240px;              /* un poco más alto porque tiene lista + filtro */
        flex: 1 1 auto;
    }

    /* Chat general (mensajes públicos) */
    .chat-general {
        min-height: 280px;              /* espacio para mensajes + input + botón voz */
        flex: 1 1 auto;
    }

    /* Comunicación directa (chat privado) */
    .chat-privado {
        min-height: 300px;              /* el más importante, necesita espacio para conversación */
        flex: 1 1 auto;
    }

    /* Mensajes recibidos (desplegables) */
    .chat-recibidos {
        min-height: 220px;
        flex: 1 1 auto;
    }

    /* Asistente IA */
    .chat-ia {
        min-height: 260px;              /* textarea + botón + respuesta */
        flex: 1 1 auto;
    }

    /* Ajustes internos para que el contenido ocupe bien el espacio */
    .chat-mensajes {
        flex: 1;                        /* crece para llenar el min-height */
        min-height: 120px;              /* evita que quede muy vacío si no hay mensajes */
        overflow-y: auto;
        margin-bottom: 10px;
    }

    /* Inputs y controles inferiores */
    .chat-input, .btn-voz, .btn-ia {
        min-height: 44px;               /* mínimo táctil recomendado */
    }

    /* Aseguramos que el aside use todo el espacio disponible */
    .comms-panel {
        padding-bottom: 80px;           /* evita que el último chat quede tapado por botón flotante */
    }

    /* Si hay muy poco contenido, forzamos scroll suave */
    .comms-panel > section:last-child {
        margin-bottom: 60px;
    }
}